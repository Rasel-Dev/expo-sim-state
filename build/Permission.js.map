{"version":3,"file":"Permission.js","sourceRoot":"","sources":["../src/Permission.ts"],"names":[],"mappings":"AAAA,OAAO,EAAc,kBAAkB,EAAa,MAAM,cAAc,CAAC;AAEzE;;;;;GAKG;AACH,MAAM,OAAO,uBAAwB,SAAQ,KAAK;IAChD,+CAA+C;IAC/C,IAAI,GAAG,mBAAmB,CAAC;IAE3B;;;OAGG;IACH,YAAY,OAAgB;QAC1B,KAAK,CAAC,OAAO,IAAI,kDAAkD,CAAC,CAAC;QACrE,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,uBAAuB,CAAC,SAAS,CAAC,CAAC;IACjE,CAAC;CACF;AAED;;;;GAIG;AACH,MAAM,OAAO,wBAAyB,SAAQ,KAAK;IACjD,+CAA+C;IAC/C,IAAI,GAAG,sBAAsB,CAAC;IAE9B;;;OAGG;IACH,YAAY,OAAgB;QAC1B,KAAK,CAAC,OAAO,IAAI,gDAAgD,CAAC,CAAC;QACnE,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,wBAAwB,CAAC,SAAS,CAAC,CAAC;IAClE,CAAC;CACF;AAED;;;;;GAKG;AACH,MAAM,OAAO,mBAAoB,SAAQ,KAAK;IAC5C,+CAA+C;IAC/C,IAAI,GAAG,qBAAqB,CAAC;IAE7B;;;OAGG;IACH,YAAY,OAAe;QACzB,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,mBAAmB,CAAC,SAAS,CAAC,CAAC;IAC7D,CAAC;CACF;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA4BG;AACH,MAAM,CAAC,KAAK,UAAU,iBAAiB,CAAC,UAAsB,EAAE,SAAqB;IACnF,MAAM,MAAM,GAAG,MAAM,kBAAkB,CAAC,OAAO,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;IACvE,OAAO,MAAM,KAAK,kBAAkB,CAAC,OAAO,CAAC,OAAO,CAAC;AACvD,CAAC","sourcesContent":["import { Permission, PermissionsAndroid, Rationale } from 'react-native';\n\n/**\n * Error thrown when a required SIM-related permission is denied by the user.\n * \n * This usually occurs if the user refuses to grant `READ_PHONE_STATE` or `READ_PHONE_NUMBERS`\n * while calling the SIM state API.\n */\nexport class SimStatePermissionError extends Error {\n  /** Error code identifying the type of error */\n  code = 'PERMISSION_DENIED';\n\n  /**\n   * Constructs a new SimStatePermissionError\n   * @param message Optional human-readable message describing the error\n   */\n  constructor(message?: string) {\n    super(message ?? 'Required SIM permissions were denied by the user');\n    Object.setPrototypeOf(this, SimStatePermissionError.prototype);\n  }\n}\n\n/**\n * Error thrown when the SIM module is used on an unsupported platform.\n * \n * Currently, this module only supports Android devices.\n */\nexport class SimStateUnsupportedError extends Error {\n  /** Error code identifying the type of error */\n  code = 'UNSUPPORTED_PLATFORM';\n\n  /**\n   * Constructs a new SimStateUnsupportedError\n   * @param message Optional human-readable message describing the error\n   */\n  constructor(message?: string) {\n    super(message ?? 'SIM state is only available on Android devices');\n    Object.setPrototypeOf(this, SimStateUnsupportedError.prototype);\n  }\n}\n\n/**\n * Error thrown when the native SIM module fails to fetch data.\n * \n * This wraps unexpected native exceptions and provides a consistent error\n * object for the JS side.\n */\nexport class SimStateNativeError extends Error {\n  /** Error code identifying the type of error */\n  code = 'NATIVE_MODULE_ERROR';\n\n  /**\n   * Constructs a new SimStateNativeError\n   * @param message Human-readable message describing the failure\n   */\n  constructor(message: string) {\n    super(message);\n    Object.setPrototypeOf(this, SimStateNativeError.prototype);\n  }\n}\n\n/**\n * Requests a specific Android permission and returns whether it was granted.\n * \n * Automatically handles the Android permission prompt. Returns `true` if the user\n * granted the permission, `false` otherwise.\n *\n * @param permission The permission to request, e.g., `PermissionsAndroid.PERMISSIONS.READ_PHONE_STATE`\n * @param rationale Optional rationale object to show a user-friendly explanation for why the permission is needed.\n *                  Includes:\n *                  - title: string — Dialog title\n *                  - message: string — Dialog message explaining the need\n *                  - buttonPositive: string — Positive button label\n *                  - buttonNegative?: string — Negative button label\n *                  - buttonNeutral?: string — Neutral button label\n * @returns {Promise<boolean>} `true` if permission granted, `false` otherwise\n *\n * @example\n * ```ts\n * const granted = await requestPermission(PermissionsAndroid.PERMISSIONS.READ_PHONE_NUMBERS, {\n *   title: \"Phone Number Access\",\n *   message: \"We need your phone number to identify your SIM card\",\n *   buttonPositive: \"OK\",\n *   buttonNegative: \"Cancel\"\n * });\n * if (!granted) {\n *   throw new SimStatePermissionError();\n * }\n * ```\n */\nexport async function requestPermission(permission: Permission, rationale?: Rationale): Promise<boolean> {\n  const status = await PermissionsAndroid.request(permission, rationale);\n  return status === PermissionsAndroid.RESULTS.GRANTED;\n}\n"]}